graph TB
    subgraph APMLayer["📋 APM Enhancement Layer"]
        IP[📋 Implementation Plan<br/>Task Definitions<br/>Agent Assignments<br/>Success Criteria]

        MB[🗂️ Memory Bank<br/>Session Continuity<br/>Progress Tracking<br/>Risk Management]

        CB[🌉 Context Bridge Tools<br/>Session Templates<br/>HANDOFF_PRIME v2.0 Protocol<br/>Artifact Validation<br/>Dual Activation Sequence]
    end

    subgraph ClaudeAI["☁️ Claude.ai Ecosystem"]
        subgraph SmartChain["🧠 Smart Chain Engine - Enhanced"]
            HTN[🔄 Hierarchical Task Networking<br/>Task Decomposition<br/>Meta-Sequence Optimization<br/>Goal Achievement Focus<br/>Every Stage Application]

            HK[⚡ Hotkey Scaffolding<br/>5 Scaffolded Commands<br/>5 Emergent Commands<br/>Dynamic Expansion<br/>Recursive Libraries]

            MM[🎯 Master Model Orchestrator<br/>EA Master Model Persona<br/>Mermaid Planning MANDATORY<br/>Transparent Execution<br/>Consulting Discipline]

            SD[📊 Self-Diagnostics Framework<br/>10 Performance Dimensions<br/>Task Alignment and Decomposition<br/>Reasoning Depth Analysis<br/>Continuous Improvement Notes]
        end
        subgraph Sessions["💬 Session Management"]
            IT["🔴 Initial Thread<br/>MAXED OUT<br/>26 Artifacts Generated<br/>Context Bridge Source"]

            NT["🟢 New Thread<br/>HANDOFF PRIME v2.0 ACTIVATED<br/>Context Bridged + Orchestrated<br/>Article Completion<br/>Visual Integration"]

            PW["📂 Project Workspace<br/>Artifact Promotion<br/>Knowledge Management<br/>Delivery Excellence"]
        end
    end

    %% APM → Claude.ai Integration Points
    CB -->|Dual Activation| NT
    IP -->|Guide| HTN
    MB -->|Track| Sessions

    %% Internal Claude.ai Flow - Enhanced
    HTN -->|Enable| MM
    HK -->|Support| HTN
    MM -->|Execute| NT
    MM -->|Evaluate| SD
    SD -->|Improve| HTN
    IT -.->|Context Bridge| NT
    NT -->|Promote| PW

    %% Context Bridge Flow - Enhanced
    IT -.->|Export Process| CB
    CB -.->|HANDOFF_PRIME v2.0| NT

    %% Task Networking Philosophy
    HTN -.->|"Task Networking → Hierarchical Planning → Smart Chain"| MM
    MM -.->|"→ Emergent Hotkeys → Transparent Deliverables"| HK
    HK -.->|"→ Continuous Improvement"| SD

    classDef apm fill:#e8f5e8,stroke:#2e7d32,stroke-width:2px,color:#000000
    classDef claude fill:#e1f5fe,stroke:#0277bd,stroke-width:2px,color:#000000
    classDef engine fill:#fff3e0,stroke:#ef6c00,stroke-width:2px,color:#000000
    classDef session fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px,color:#000000
    classDef diagnostic fill:#ffecb3,stroke:#f57c00,stroke-width:2px,color:#000000

    class IP,MB,CB apm
    class ClaudeAI claude
    class HTN,HK,MM engine
    class IT,NT,PW session
    class SD diagnostic
