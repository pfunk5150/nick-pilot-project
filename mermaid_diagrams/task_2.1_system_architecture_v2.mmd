graph TB
    subgraph Claude["Claude.ai Ecosystem"]
        subgraph ProjWS["Project Workspace Layer"]
            PK[ğŸ“š Project Knowledge<br/>Static reference files<br/>Handbooks and guides<br/>Context templates]
            PA[ğŸ“ Promoted Artifacts<br/>Finalized deliverables<br/>Approved documents<br/>Publication ready content]
        end

        subgraph Orchestration["ğŸ¯ Orchestration Layer - Task 2.2.5 Enhancement"]
            EA[ğŸ¤– EA Master Model<br/>Consultant & Strategist<br/>Task Orchestrator<br/>Self-Diagnostics Agent]
            TN[ğŸ”„ Task Networking<br/>Hierarchical Modeling<br/>Meta-Sequence Optimization<br/>Goal Achievement Engine]
            SC[âš¡ Smart Chain Engine<br/>Mermaid Planning<br/>Sequential Execution<br/>Transparent Reasoning]
            HK[ğŸ”‘ Hotkey System<br/>5 Scaffolded + 5 Emergent<br/>Recursive Expansion<br/>Functional Primitives]
        end

        subgraph Threads["Chat Thread Layer"]
            T1[ğŸ”´ Thread 1 Initial<br/>Smart Chain execution<br/>26 artifacts generated<br/>Context limit reached<br/>Status ARCHIVED]
            T2[ğŸŸ¢ Thread 2 Refinement<br/>HANDOFF_PRIME v2.0 Activated<br/>Context bridge + Orchestration<br/>Article finalization<br/>Status PLANNED]
            TN_Thread[âšª Thread N Extension<br/>Additional workflows<br/>Quality assurance<br/>Final delivery<br/>Status CONDITIONAL]
        end
    end

    subgraph Local["Local Development Environment"]
        subgraph APM["APM Enhancement Layer"]
            IP[ğŸ“‹ Implementation Plan<br/>Task definitions<br/>Agent assignments<br/>Success criteria]
            MB[ğŸ—‚ï¸ Memory Bank<br/>Session continuity<br/>Progress tracking<br/>Risk management]
            CB[ğŸŒ‰ Context Bridge Tools<br/>Session templates<br/>HANDOFF_PRIME v2.0<br/>Artifact validation]
        end

        subgraph Export["Export and Analysis Layer"]
            ER[ğŸ“¦ Export Repository<br/>conversation log 414KB<br/>generated artifacts 26 files<br/>extracted files<br/>user uploads]
            CRB[ğŸ”§ Repository Builder<br/>Export automation<br/>Artifact extraction<br/>Structure analysis]
            EWF[ğŸ“Š Export Workflow<br/>Claude Thread to JS Export<br/>to Python Builder<br/>to Repository Structure]
        end

        subgraph VC["Version Control Layer"]
            LG[ğŸ“ Local Git Repository<br/>APM documentation<br/>Enhancement tracking<br/>Branch management]
            GH[â˜ï¸ GitHub Remote<br/>Collaboration<br/>Backup and sync<br/>Version history]
        end
    end

    %% Data Flow Connections
    T1 -.->|Export Process| CRB
    CRB -->|Generate| ER
    ER -->|Analyze| CB
    CB -->|HANDOFF_PRIME v2.0| T2
    T2 -.->|Promote| PA

    %% Orchestration Integration
    CB -->|Activate| EA
    EA -->|Enable| TN
    TN -->|Drive| SC
    SC -->|Generate| HK
    EA -->|Control| T2

    %% APM Coordination
    IP -->|Guide| CB
    MB -->|Track| CB
    CB -->|Update| MB

    %% Version Control Flow
    IP -->|Commit| LG
    MB -->|Commit| LG
    CB -->|Commit| LG
    LG <-->|Sync| GH

    %% Reference Flow
    PK <-->|Reference| T2
    PA <-->|Archive| LG

    %% Export Workflow
    T1 -.->|claude_export_script.js| EWF
    EWF -->|claude_repository_builder.py| ER

    %% Styling
    classDef claude fill:#e1f5fe,stroke:#0277bd,stroke-width:2px,color:#000000
    classDef orchestration fill:#ffecb3,stroke:#f57c00,stroke-width:3px,color:#000000
    classDef apm fill:#e8f5e8,stroke:#2e7d32,stroke-width:2px,color:#000000
    classDef export fill:#fff3e0,stroke:#ef6c00,stroke-width:2px,color:#000000
    classDef git fill:#ffebee,stroke:#c62828,stroke-width:2px,color:#000000

    class PK,PA,T1,T2,TN_Thread claude
    class EA,TN,SC,HK,Orchestration orchestration
    class IP,MB,CB apm
    class ER,CRB,EWF export
    class LG,GH git
