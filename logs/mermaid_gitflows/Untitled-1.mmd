---
theme: dark
---
graph TD
    A["ğŸ  Main Branch<br/>(Stable Foundation)"] --> B["ğŸ“Š Snapshot Assessment<br/>Check /logs/claude_export_repository/"]
    B --> C{"ğŸš€ Session Type?"}

    C -->|Structured Work| D1["ğŸŒ¿ Feature Branch<br/>feature/session-YYYY-MM-DD-topic"]
    C -->|Experimental| D2["ğŸ§ª Worktree<br/>experiments/thread-N/"]
    C -->|Hotfix/Quick| D3["âš¡ Dev Branch<br/>dev/quick-iteration"]

    D1 --> E1["ğŸ“ Claude Session<br/>(Branch Context)"]
    D2 --> E2["ğŸ”¬ Claude Session<br/>(Isolated Worktree)"]
    D3 --> E3["ğŸ”§ Claude Session<br/>(Dev Context)"]

    E1 --> F1["ğŸ“‹ Generate Artifacts<br/>+ Reasoning Logs"]
    E2 --> F2["ğŸ¨ Experimental Output<br/>+ Research Notes"]
    E3 --> F3["âš¡ Quick Updates<br/>+ Iterations"]

    F1 --> G["ğŸ‘¤ Human Review<br/>& Quality Gate"]
    F2 --> G
    F3 --> G

    G --> H{"âœ… Approval Status?"}
    H -->|Approved| I1["ğŸ”„ Merge to Main<br/>+ Commit + Tag"]
    H -->|Needs Work| I2["ğŸ”„ Continue in Branch<br/>+ Additional Iterations"]
    H -->|Archive| I3["ğŸ“¦ Archive Branch<br/>+ Documentation"]

    I1 --> J["ğŸ“Š Update Repository<br/>+ Export Snapshot"]
    I2 --> F1
    I3 --> K["ğŸ“š Knowledge Base<br/>+ Lessons Learned"]

    subgraph "ğŸ§ª Experimental Isolation"
        L["chat_converter.py"]
        M["optimized_chat_context.json"]
        N["experimental-*"]
        L --> O["exp/thread-condensing"]
        M --> O
        N --> O
    end
